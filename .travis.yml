matrix:
  include:

    - language: android
      android:
        components:
          - tools
          - platform-tools
          - build-tools-28.0.3
          - android-28
          - extra-android-support
          - extra-google-m2repository
          - extra-android-m2repository

      script:
        - ./gradlew ktlint connectedcheck

    - language: objective-c
      osx_image: xcode10.1
      jdk:
        - oraclejdk8

      before_install:
        - ./gradlew :core-multiplatform:packForXCode
        - gem install cocoapods
        - pod repo update --silent
        - gem install xcpretty

      install:
        - cd iosApp
        - pod install

      script:
        - swiftlint
        - set -o pipefail && xcodebuild -workspace iosApp.xcworkspace -scheme 'iosApp' -destination 'platform=iOS Simulator,name=iPhone 6s Plus' build test CODE_SIGN_IDENTITY=- | xcpretty -c



